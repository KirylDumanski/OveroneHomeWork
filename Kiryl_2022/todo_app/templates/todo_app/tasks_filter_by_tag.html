{%extends 'todo_app/base.html'%}

{%block title%} {{title}} {%endblock%}

{%block content%}

<div class="container">
    <div class="d-flex justify-content-between"">
        <div class="p-2 bd-highlight">
            <h3 style="display: inline;">Tasks filter by tag "{{tag_slug}}"</h3>
        </div>
        <div class="p-2 bd-highlight">
            <a href="{%url 'todo:index'%}"><button class="btn btn-success" type="button">Show all</button></a>
        </div>
    </div>
</div>

{%if tasks%}
{%for task in tasks%}
    <div class="alert alert-warning mt-2">
        <h3>{{task.title}}</h3>
        <small><b>Deadline: {{task.deadline}}</b> | Created: {{task.on_create}}</small>
        <p>{{task.description|truncatewords:50}}</p>
        <small>
            Tags:
            {%for tag in task.tags.all%}
            <a href="{%url 'todo:tag_filter' tag%}">{{tag}}</a>
            {%endfor%}
        </small>

        <div class="text-right">
            <a href="{%url 'todo:task_edit' task.pk%}"><button class="btn btn-primary">Edit</button></a>
            <a href="{%url 'todo:task_delete' task.pk%}"><button class="btn btn-danger">Delete</button></a>
        </div>

    </div>
{%endfor%}
{%else%}
    <p>There is no any tasks yet... But you can add them!</p>
{%endif%}

{%endblock%}